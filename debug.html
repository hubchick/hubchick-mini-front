<!DOCTYPE html>
<html>
<head>
    <title>Hubchik Debug</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body style="font-family: Arial, sans-serif; padding: 20px; background: #f0f0f0;">
    <h1>üîç Hubchik Debug Page</h1>
    
    <div id="debug-info" style="background: white; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
        <h2>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:</h2>
        <div id="component-status">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    </div>
    
    <div style="background: white; padding: 15px; border-radius: 10px;">
        <h3>JavaScript –∫–æ–Ω—Å–æ–ª—å:</h3>
        <div id="console-output" style="background: #f8f8f8; padding: 10px; border-radius: 5px; font-family: monospace; font-size: 12px; max-height: 200px; overflow-y: auto;"></div>
    </div>
    
    <script>
        console.log('=== Hubchik Debug Start ===');
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É —Å–∫—Ä–∏–ø—Ç–æ–≤
        const scripts = document.querySelectorAll('script[src]');
        let scriptCount = 0;
        scripts.forEach(script => {
            if (script.src.includes('telegram-web-app.js')) {
                scriptCount++;
            }
        });
        
        document.getElementById('component-status').innerHTML = `–ù–∞–π–¥–µ–Ω–æ —Å–∫—Ä–∏–ø—Ç–æ–≤: ${scriptCount}`;
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º React
        setTimeout(() => {
            if (document.getElementById('root')) {
                document.getElementById('component-status').innerHTML += '<br>‚úÖ React root –Ω–∞–π–¥–µ–Ω';
            } else {
                document.getElementById('component-status').innerHTML += '<br>‚ùå React root –Ω–µ –Ω–∞–π–¥–µ–Ω';
            }
        }, 1000);
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º Telegram WebApp
        setTimeout(() => {
            if (window.Telegram?.WebApp) {
                document.getElementById('component-status').innerHTML += '<br>‚úÖ Telegram WebApp –¥–æ—Å—Ç—É–ø–µ–Ω';
                
                const user = window.Telegram.WebApp.initDataUnsafe.user;
                if (user) {
                    document.getElementById('component-status').innerHTML += `<br>‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ${user.first_name} ${user.last_name || ''}`;
                } else {
                    document.getElementById('component-status').innerHTML += '<br>‚ùå –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã';
                }
            } else {
                document.getElementById('component-status').innerHTML += '<br>‚ùå Telegram WebApp –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω';
            }
        }, 2000);
        
        // –í—ã–≤–æ–¥–∏–º –≤—Å–µ console.log –≤ div
        const originalLog = console.log;
        console.log = function(...args) {
            const message = args.join(' ');
            const output = document.getElementById('console-output');
            if (output) {
                output.innerHTML += message + '<br>';
                output.scrollTop = output.scrollHeight;
            }
            return originalLog.apply(console, args);
        };
        
        console.log('–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
    </script>
</body>
</html>
